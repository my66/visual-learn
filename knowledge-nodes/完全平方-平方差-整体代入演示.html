<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>完全平方 & 平方差 · 整体代入演示</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #f5f5f7;
      color: #222;
    }
    .page {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px 16px 40px;
    }
    h1 {
      text-align: center;
      margin-bottom: 4px;
      font-size: 26px;
    }
    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 24px;
      font-size: 14px;
    }
    .card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.05);
      padding: 16px 18px 18px;
      margin-bottom: 16px;
    }
    .row {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }
    .col {
      flex: 1 1 280px;
      min-width: 0;
    }
    .section-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .section-title small {
      font-weight: 400;
      color: #888;
    }
    .formula-box {
      font-size: 20px;
      padding: 10px 12px;
      background: #fafafa;
      border-radius: 8px;
      border: 1px solid #e5e5e5;
      text-align: center;
      margin-bottom: 8px;
    }
    .formula-box .a-part {
      color: #d32f2f;
      font-weight: 600;
    }
    .formula-box .b-part {
      color: #1976d2;
      font-weight: 600;
    }
    .tabs {
      display: inline-flex;
      padding: 3px;
      background: #e8e8f0;
      border-radius: 999px;
      margin-bottom: 10px;
      gap: 3px;
    }
    .tab-btn {
      border: none;
      padding: 6px 14px;
      border-radius: 999px;
      font-size: 14px;
      background: transparent;
      cursor: pointer;
      color: #555;
      transition: all 0.15s ease;
    }
    .tab-btn.active {
      background: #fff;
      color: #111;
      box-shadow: 0 1px 4px rgba(0,0,0,0.12);
    }
    .example-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .example-btn {
      border-radius: 999px;
      border: 1px solid #ddd;
      padding: 6px 10px;
      font-size: 13px;
      cursor: pointer;
      background: #fafafa;
      text-align: left;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
    }
    .example-btn span.label {
      white-space: nowrap;
    }
    .example-btn span.note {
      color: #888;
      font-size: 12px;
      flex: 1;
      text-align: right;
    }
    .example-btn.active {
      background: #e3f2fd;
      border-color: #64b5f6;
    }
    .tag {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      background: #e3f2fd;
      color: #1565c0;
      margin-left: 4px;
    }
    .tag.harder {
      background: #ffebee;
      color: #c62828;
    }
    .pill {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 11px;
      background: #f1f8e9;
      color: #558b2f;
    }
    .expr-box {
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px dashed #ccc;
      background: #fcfcfc;
      margin-bottom: 6px;
      font-size: 16px;
    }
    .mapping {
      font-size: 14px;
      margin-bottom: 6px;
      line-height: 1.6;
    }
    .mapping strong {
      font-weight: 600;
    }
    .highlight {
      border-radius: 6px;
      padding: 2px 4px;
    }
    .highlight.a {
      background: rgba(244, 67, 54, 0.10);
      border: 1px solid rgba(244, 67, 54, 0.35);
    }
    .highlight.b {
      background: rgba(25, 118, 210, 0.10);
      border: 1px solid rgba(25, 118, 210, 0.35);
    }
    .steps-list {
      list-style: none;
      padding-left: 16px;
      margin: 6px 0 6px;
      font-size: 14px;
    }
    .steps-list li {
      position: relative;
      padding-left: 14px;
      margin-bottom: 4px;
    }
    .steps-list li::before {
      content: "";
      position: absolute;
      left: 0;
      top: 7px;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #9e9e9e;
    }
    .steps-list li.visible {
      opacity: 1;
      max-height: 100px;
      transform: translateY(0);
    }
    .steps-list li.hidden {
      opacity: 0;
      max-height: 0;
      transform: translateY(-4px);
      overflow: hidden;
    }
    .step-btns {
      display: flex;
      gap: 8px;
      margin-top: 4px;
    }
    button.primary {
      border-radius: 999px;
      border: none;
      background: #1976d2;
      color: #fff;
      font-size: 13px;
      padding: 6px 12px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    button.secondary {
      border-radius: 999px;
      border: 1px solid #ccc;
      background: #fafafa;
      color: #555;
      font-size: 12px;
      padding: 4px 10px;
      cursor: pointer;
    }
    button:disabled {
      opacity: 0.5;
      cursor: default;
    }
    .tiny-hint {
      font-size: 11px;
      color: #888;
      margin-top: 4px;
    }
    .example-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    .group-line {
      margin-top: 4px;
      font-size: 13px;
      color: #555;
    }
    .group-line code {
      background: #f3e5f5;
      padding: 0 4px;
      border-radius: 4px;
    }
    .number-inputs {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
      align-items: center;
      font-size: 13px;
    }
    .number-inputs label {
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .number-inputs input[type="number"] {
      width: 70px;
      padding: 3px 4px;
      border-radius: 4px;
      border: 1px solid #ccc;
      font-size: 13px;
    }
    .check-result {
      margin-top: 6px;
      font-size: 13px;
      padding: 6px 8px;
      border-radius: 6px;
      background: #f5f5f5;
    }
    .check-result.good {
      background: #e8f5e9;
      color: #2e7d32;
      border: 1px solid #a5d6a7;
    }
    .check-result.bad {
      background: #ffebee;
      color: #c62828;
      border: 1px solid #ef9a9a;
    }
    .footer-note {
      margin-top: 10px;
      font-size: 11px;
      color: #999;
      text-align: right;
    }
    @media (max-width: 720px) {
      .card {
        padding: 12px 12px 14px;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <h1>完全平方 · 平方差 —— 占位符整体代入演示</h1>
    <div class="subtitle">从“直接看出来”到“先整理再认出 a、b”，一步步体会整体代入的思路</div>

    <div class="card">
      <div class="row">
        <div class="col">
          <div class="section-title">
            ① 选择公式
          </div>
          <div class="tabs" id="formulaTabs">
            <button class="tab-btn active" data-type="square">完全平方 (a±b)<sup>2</sup></button>
            <button class="tab-btn" data-type="diff">平方差 a<sup>2</sup> − b<sup>2</sup></button>
          </div>
          <div class="formula-box" id="mainFormula">
            ( <span class="a-part">a</span> ± <span class="b-part">b</span> )<sup>2</sup>
            = <span class="a-part">a</span><sup>2</sup> ± 2<span class="a-part">a</span><span class="b-part">b</span> + <span class="b-part">b</span><sup>2</sup>
          </div>
          <div class="tiny-hint">提示：在所有例子中，红色部分始终整体看作 <strong>a</strong>，蓝色部分整体看作 <strong>b</strong>。</div>
        </div>

        <div class="col">
          <div class="section-title">
            ② 选择例题 <small>（难度逐渐增加）</small>
          </div>
          <div class="example-list" id="exampleList"></div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="section-title">
        ③ 在当前例题中，找出 a 和 b，并展开或化简
      </div>

      <div class="example-title" id="exampleTitle"></div>
      <div class="expr-box" id="exampleExpr"></div>
      <div class="group-line" id="groupHint" style="display:none"></div>
      <div class="mapping" id="mappingText"></div>

      <ul class="steps-list" id="stepsList"></ul>
      <div class="step-btns">
        <button class="primary" id="nextStepBtn">显示下一步</button>
        <button class="secondary" id="resetStepsBtn">重新开始</button>
      </div>

      <div class="section-title" style="margin-top:12px;">
        ④ 代入数字，验证等式是否相等
        <span class="pill">只在含有 x, y 的例子中有效</span>
      </div>
      <div class="number-inputs" id="numberInputs"></div>
      <button class="secondary" id="checkBtn">检查两边是否相等</button>
      <div class="check-result" id="checkResult" style="display:none"></div>

      <div class="footer-note">小技巧：真正的“整体代入”，就是<strong>把一大坨东西，当成一个整体字母</strong>来用。</div>
    </div>
  </div>

  <script>
    const DATA = {
      square: {
        name: '完全平方',
        formulaHtml: '( <span class="a-part">a</span> \u00b1 <span class="b-part">b</span> )<sup>2</sup> = <span class="a-part">a</span><sup>2</sup> \u00b1 2<span class="a-part">a</span><span class="b-part">b</span> + <span class="b-part">b</span><sup>2</sup>',
        examples: [
          {
            id: 'sq1',
            title: '例 1：最基础的代入',
            short: '(x + 3)<sup>2</sup>',
            note: '直接一眼看出 a,b',
            exprHtml: '原式： ( <span class="highlight a">x</span> + <span class="highlight b">3</span> )<sup>2</sup>',
            mappingHtml: '在这里：<span class="highlight a">a = x</span>，<span class="highlight b">b = 3</span>。只要把公式中的 a 换成 x，b 换成 3 即可。',
            steps: [
              '根据 (a+b)<sup>2</sup> = a<sup>2</sup> + 2ab + b<sup>2</sup>，得到：<br>(x+3)<sup>2</sup> = x<sup>2</sup> + 2\u00d7x\u00d73 + 3<sup>2</sup>',
              '化简：x<sup>2</sup> + 6x + 9',
            ],
            vars: ['x'],
            leftEval: ({x}) => (x + 3) ** 2,
            rightEval: ({x}) => x * x + 6 * x + 9,
          },
          {
            id: 'sq2',
            title: '例 2：a 本身就是一个“整体”',
            short: '(2x + 5)<sup>2</sup>',
            note: 'a 变成 2x',
            exprHtml: '原式： ( <span class="highlight a">2x</span> + <span class="highlight b">5</span> )<sup>2</sup>',
            mappingHtml: '在这里：<span class="highlight a">a = 2x</span>，<span class="highlight b">b = 5</span>。<br>要记住：<strong>2x 这个整体</strong>是 a，不要把平方只加在 x 上。',
            steps: [
              '代入公式：<br>(2x+5)<sup>2</sup> = (2x)<sup>2</sup> + 2\u00d7(2x)\u00d75 + 5<sup>2</sup>',
              '化简：(2x)<sup>2</sup> = 4x<sup>2</sup>，中间项 2\u00d7(2x)\u00d75 = 20x，5<sup>2</sup> = 25',
              '所以：(2x+5)<sup>2</sup> = 4x<sup>2</sup> + 20x + 25',
            ],
            vars: ['x'],
            leftEval: ({x}) => (2 * x + 5) ** 2,
            rightEval: ({x}) => 4 * x * x + 20 * x + 25,
          },
          {
            id: 'sq3',
            title: '例 3：a 和 b 都是“括号整体”',
            short: '((x+1) + (2y-3))<sup>2</sup>',
            note: '先整体看，再展开',
            exprHtml: '原式： ( <span class="highlight a">(x+1)</span> + <span class="highlight b">(2y-3)</span> )<sup>2</sup>',
            mappingHtml: '在这里要有“整体眼光”：<br><span class="highlight a">a = (x+1)</span>，<span class="highlight b">b = (2y-3)</span>。<br>虽然里面还有加减，但对公式来说，它们是两个“大块”。',
            steps: [
              '整体代入公式：(A+B)<sup>2</sup> = A<sup>2</sup> + 2AB + B<sup>2</sup>，其中 A=(x+1)，B=(2y-3)',
              '得到：<br>((x+1)+(2y-3))<sup>2</sup> = (x+1)<sup>2</sup> + 2(x+1)(2y-3) + (2y-3)<sup>2</sup>',
              '再分别展开：(x+1)<sup>2</sup> = x<sup>2</sup> + 2x + 1；(2y-3)<sup>2</sup> = 4y<sup>2</sup> - 12y + 9',
              '中间项 2(x+1)(2y-3) 可根据需要再继续展开或保持乘积形式，这里保持：<br>(x+1)<sup>2</sup> + 2(x+1)(2y-3) + (2y-3)<sup>2</sup>',
            ],
            vars: ['x','y'],
            leftEval: ({x,y}) => ( (x+1) + (2*y-3) ) ** 2,
            rightEval: ({x,y}) => {
              const A = x+1;
              const B = 2*y-3;
              return A*A + 2*A*B + B*B;
            },
          },
          {
            id: 'sq4',
            title: '例 4：先整理，再认出“完全平方”',
            short: 'x<sup>2</sup> + 6x + 9',
            note: '从三项式反推 a,b',
            exprHtml: '原式： x<sup>2</sup> + 6x + 9',
            mappingHtml: '观察：第一项是 x<sup>2</sup>，最后一项是 9 = 3<sup>2</sup>，<br>中间项是 6x = 2\u00d7x\u00d73。于是可以反推出：<span class="highlight a">a = x</span>，<span class="highlight b">b = 3</span>。',
            steps: [
              '把 6x 写成 2\u00d7x\u00d73，9 写成 3<sup>2</sup>：<br>x<sup>2</sup> + 6x + 9 = x<sup>2</sup> + 2\u00d7x\u00d73 + 3<sup>2</sup>',
              '与 a<sup>2</sup> + 2ab + b<sup>2</sup> 对比，得到 a = x，b = 3',
              '所以：x<sup>2</sup> + 6x + 9 = (x+3)<sup>2</sup>',
            ],
            vars: ['x'],
            leftEval: ({x}) => x * x + 6 * x + 9,
            rightEval: ({x}) => (x + 3) ** 2,
          },
        ],
      },
      diff: {
        name: '平方差',
        formulaHtml: '<span class="a-part">a</span><sup>2</sup> - <span class="b-part">b</span><sup>2</sup> = ( <span class="a-part">a</span> - <span class="b-part">b</span> )( <span class="a-part">a</span> + <span class="b-part">b</span> )',
        examples: [
          {
            id: 'df1',
            title: '例 1：直接识别 a<sup>2</sup> − b<sup>2</sup>',
            short: 'm<sup>2</sup> − 4<sup>2</sup>',
            note: '最标准的平方差',
            exprHtml: '原式： <span class="highlight a">m<sup>2</sup></span> − <span class="highlight b">4<sup>2</sup></span>',
            mappingHtml: '在这里：<span class="highlight a">a = m</span>，<span class="highlight b">b = 4</span>。',
            steps: [
              '根据平方差公式：a<sup>2</sup> − b<sup>2</sup> = (a-b)(a+b)',
              '得到：m<sup>2</sup> − 4<sup>2</sup> = (m-4)(m+4)',
            ],
            vars: ['m'],
            leftEval: ({m}) => m * m - 16,
            rightEval: ({m}) => (m - 4) * (m + 4),
          },
          {
            id: 'df2',
            title: '例 2：先配成平方，再用平方差',
            short: 'x<sup>2</sup> + 2x + 1 − (y−2)<sup>2</sup>',
            note: '左边先认出是 (x+1)<sup>2</sup>',
            exprHtml: '原式： [x<sup>2</sup> + 2x + 1] − <span class="highlight b">(y−2)<sup>2</sup></span>',
            mappingHtml: '先把 x<sup>2</sup> + 2x + 1 看成一个整体：它其实是 <span class="highlight a">(x+1)<sup>2</sup></span>。<br>于是有 a = (x+1)，b = (y−2)。',
            groupHint: '整理步骤：<br>1）先认出 x<sup>2</sup> + 2x + 1 = (x+1)<sup>2</sup><br>2）整式变成 (x+1)<sup>2</sup> − (y−2)<sup>2</sup>，就能用平方差公式了。',
            steps: [
              '第一步：配成完全平方：x<sup>2</sup> + 2x + 1 = (x+1)<sup>2</sup>',
              '原式变为：(x+1)<sup>2</sup> − (y−2)<sup>2</sup>',
              '套用平方差：a<sup>2</sup> − b<sup>2</sup> = (a-b)(a+b)，其中 a=(x+1)，b=(y−2)',
              '得到：(x+1 − (y−2))(x+1 + (y−2))',
              '可视需要继续整理括号：<br>第一括号：x+1−y+2 = x−y+3；第二括号：x+1+y−2 = x+y−1',
            ],
            vars: ['x','y'],
            leftEval: ({x,y}) => (x * x + 2 * x + 1) - (y - 2) ** 2,
            rightEval: ({x,y}) => {
              const a = x + 1;
              const b = y - 2;
              return (a - b) * (a + b);
            },
          },
          {
            id: 'df3',
            title: '例 3：先提公因式，再变成 a<sup>2</sup> − b<sup>2</sup>',
            short: '4x<sup>2</sup> − 9y<sup>2</sup>',
            note: '看出是 (2x)<sup>2</sup> − (3y)<sup>2</sup>',
            exprHtml: '原式： 4x<sup>2</sup> − 9y<sup>2</sup> = <span class="highlight a">(2x)<sup>2</sup></span> − <span class="highlight b">(3y)<sup>2</sup></span>',
            mappingHtml: '观察：4x<sup>2</sup> = (2x)<sup>2</sup>，9y<sup>2</sup> = (3y)<sup>2</sup>。<br>于是 a = 2x，b = 3y。',
            steps: [
              '把 4x<sup>2</sup> 写成 (2x)<sup>2</sup>，9y<sup>2</sup> 写成 (3y)<sup>2</sup>：<br>4x<sup>2</sup> − 9y<sup>2</sup> = (2x)<sup>2</sup> − (3y)<sup>2</sup>',
              '套用平方差公式：<br>(2x)<sup>2</sup> − (3y)<sup>2</sup> = (2x−3y)(2x+3y)',
            ],
            vars: ['x','y'],
            leftEval: ({x,y}) => 4 * x * x - 9 * y * y,
            rightEval: ({x,y}) => (2 * x - 3 * y) * (2 * x + 3 * y),
          },
        ],
      },
    };

    const formulaTabs = document.getElementById('formulaTabs');
    const mainFormula = document.getElementById('mainFormula');
    const exampleList = document.getElementById('exampleList');
    const exampleTitle = document.getElementById('exampleTitle');
    const exampleExpr = document.getElementById('exampleExpr');
    const groupHint = document.getElementById('groupHint');
    const mappingText = document.getElementById('mappingText');
    const stepsList = document.getElementById('stepsList');
    const nextStepBtn = document.getElementById('nextStepBtn');
    const resetStepsBtn = document.getElementById('resetStepsBtn');
    const numberInputs = document.getElementById('numberInputs');
    const checkBtn = document.getElementById('checkBtn');
    const checkResult = document.getElementById('checkResult');

    let currentType = 'square';
    let currentExample = null;
    let visibleSteps = 0;

    function renderFormula() {
      mainFormula.innerHTML = DATA[currentType].formulaHtml;
    }

    function renderExamples() {
      exampleList.innerHTML = '';
      const exs = DATA[currentType].examples;
      exs.forEach((ex, idx) => {
        const btn = document.createElement('button');
        btn.className = 'example-btn' + (idx === 0 ? ' active' : '');
        btn.dataset.id = ex.id;
        btn.innerHTML = `<span class="label">${ex.short}</span><span class="note">${ex.note}</span>`;
        btn.addEventListener('click', () => {
          document.querySelectorAll('.example-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          setCurrentExample(ex.id);
        });
        exampleList.appendChild(btn);
      });
      setCurrentExample(exs[0].id);
    }

    function setCurrentExample(id) {
      const ex = DATA[currentType].examples.find(e => e.id === id);
      if (!ex) return;
      currentExample = ex;
      exampleTitle.textContent = ex.title;
      exampleExpr.innerHTML = ex.exprHtml;
      mappingText.innerHTML = ex.mappingHtml;
      if (ex.groupHint) {
        groupHint.style.display = 'block';
        groupHint.innerHTML = ex.groupHint;
      } else {
        groupHint.style.display = 'none';
      }
      renderSteps();
      renderNumberInputs();
      checkResult.style.display = 'none';
    }

    function renderSteps() {
      stepsList.innerHTML = '';
      visibleSteps = 0;
      currentExample.steps.forEach((step, idx) => {
        const li = document.createElement('li');
        li.innerHTML = step;
        li.className = idx === 0 ? 'visible' : 'hidden';
        stepsList.appendChild(li);
      });
      visibleSteps = currentExample.steps.length > 0 ? 1 : 0;
      updateStepButtons();
    }

    function showNextStep() {
      const lis = Array.from(stepsList.children);
      if (visibleSteps >= lis.length) return;
      const li = lis[visibleSteps];
      li.classList.remove('hidden');
      li.classList.add('visible');
      visibleSteps++;
      updateStepButtons();
    }

    function resetSteps() {
      const lis = Array.from(stepsList.children);
      lis.forEach((li, idx) => {
        if (idx === 0) {
          li.classList.remove('hidden');
          li.classList.add('visible');
        } else {
          li.classList.remove('visible');
          li.classList.add('hidden');
        }
      });
      visibleSteps = lis.length > 0 ? 1 : 0;
      updateStepButtons();
    }

    function updateStepButtons() {
      const total = currentExample ? currentExample.steps.length : 0;
      nextStepBtn.disabled = visibleSteps >= total;
      resetStepsBtn.disabled = total <= 1;
    }

    function renderNumberInputs() {
      numberInputs.innerHTML = '';
      if (!currentExample || !currentExample.vars || currentExample.vars.length === 0) {
        numberInputs.innerHTML = '<span style="font-size:13px;color:#888;">这个例子没有需要代入的字母。</span>';
        checkBtn.disabled = true;
        return;
      }
      checkBtn.disabled = false;
      currentExample.vars.forEach(v => {
        const label = document.createElement('label');
        label.innerHTML = `${v} = <input type="number" step="1" value="1" data-var="${v}">`;
        numberInputs.appendChild(label);
      });
      const hint = document.createElement('span');
      hint.className = 'tiny-hint';
      hint.textContent = '（可以随便改几个整数，看看等式两边是否总是相等）';
      numberInputs.appendChild(hint);
    }

    function checkEquality() {
      if (!currentExample || !currentExample.vars || currentExample.vars.length === 0) return;
      const values = {};
      const inputs = numberInputs.querySelectorAll('input[type="number"]');
      inputs.forEach(inp => {
        const vname = inp.dataset.var;
        const val = parseFloat(inp.value);
        if (!Number.isFinite(val)) {
          values[vname] = 0;
        } else {
          values[vname] = val;
        }
      });
      try {
        const left = currentExample.leftEval(values);
        const right = currentExample.rightEval(values);
        const eps = 1e-6;
        const good = Math.abs(left - right) < eps;
        checkResult.style.display = 'block';
        if (good) {
          checkResult.className = 'check-result good';
          checkResult.textContent = `代入后：左边 = ${left.toFixed(4)}，右边 = ${right.toFixed(4)}，两边相等 ✅`;
        } else {
          checkResult.className = 'check-result bad';
          checkResult.textContent = `代入后：左边 = ${left.toFixed(4)}，右边 = ${right.toFixed(4)}，两边不相等 ❌。请检查 a、b 是否代错了。`;
        }
      } catch (e) {
        checkResult.style.display = 'block';
        checkResult.className = 'check-result bad';
        checkResult.textContent = '计算时出错，请检查输入的数字是否合理。';
      }
    }

    formulaTabs.addEventListener('click', (e) => {
      const btn = e.target.closest('.tab-btn');
      if (!btn) return;
      const type = btn.dataset.type;
      if (type === currentType) return;
      currentType = type;
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      renderFormula();
      renderExamples();
      checkResult.style.display = 'none';
    });

    nextStepBtn.addEventListener('click', showNextStep);
    resetStepsBtn.addEventListener('click', resetSteps);
    checkBtn.addEventListener('click', checkEquality);

    // 初始化
    renderFormula();
    renderExamples();
  </script>
</body>
</html>
